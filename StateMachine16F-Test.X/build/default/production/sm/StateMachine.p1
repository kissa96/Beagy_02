Version 4.0 HI-TECH Software Intermediate Code
"21 sm/StateMachine.c
[; ;sm/StateMachine.c: 21: static void _trace(event_t event, state_t state){
[c E355 0 1 2 3 4 .. ]
[n E355 . evNone evTick evS1Pressed evS2Pressed evTimeout  ]
[c E378 0 1 2 3 4 5 6 7 8 9 10 11 12 .. ]
[n E378 . _init Working Working_ShallowHistoryPseudostate2 Service Red PotDelay RedYellow Green Yellow YellowOn Dummy1 YellowOff Dummy2  ]
"111 C:\Program Files\Microchip\xc8\v2.32\pic\include\c99\stdio.h
[v _printf `(i ~T0 @X0 0 ev`*Cuc ]
"11 sm/actions.h
[; ;sm/actions.h: 11: void LED1_Off();
[v _LED1_Off `(v ~T0 @X0 0 e? ]
"14
[; ;sm/actions.h: 14: void LED2_Off();
[v _LED2_Off `(v ~T0 @X0 0 e? ]
"16
[; ;sm/actions.h: 16: void LED3_On();
[v _LED3_On `(v ~T0 @X0 0 e? ]
"13
[; ;sm/actions.h: 13: void LED2_On();
[v _LED2_On `(v ~T0 @X0 0 e? ]
"10
[; ;sm/actions.h: 10: void LED1_On();
[v _LED1_On `(v ~T0 @X0 0 e? ]
"17
[; ;sm/actions.h: 17: void LED3_Off();
[v _LED3_Off `(v ~T0 @X0 0 e? ]
[v F364 `*Cuc ~T0 @X0 1 t ]
"14 sm/events.h
[; ;sm/events.h: 14: const char* const trace_event_labels [] = {
[v _trace_event_labels `C*Cuc ~T0 @X0 -> 5 `i e ]
[i _trace_event_labels
:U ..
:s 1C
:s 2C
:s 3C
:s 4C
:s 5C
..
]
[v F395 `*Cuc ~T0 @X0 1 t ]
"43 sm/StateMachine.h
[; ;sm/StateMachine.h: 43: const char* const trace_state_labels [] = {
[v _trace_state_labels `C*Cuc ~T0 @X0 -> 13 `i e ]
[i _trace_state_labels
:U ..
:s 6C
:s 7C
:s 8C
:s 9C
:s 10C
:s 11C
:s 12C
:s 13C
:s 14C
:s 15C
:s 16C
:s 17C
:s 18C
..
]
"11 sm/StateMachine.c
[; ;sm/StateMachine.c: 11: uint8_t UserVariable;
[v _UserVariable `uc ~T0 @X0 1 e ]
"15
[; ;sm/StateMachine.c: 15: uint8_t vPotmeter;
[v _vPotmeter `uc ~T0 @X0 1 e ]
"21
[; ;sm/StateMachine.c: 21: static void _trace(event_t event, state_t state){
[v __trace `(v ~T0 @X0 1 sf2`E355`E378 ]
{
[e :U __trace ]
[v _event `E355 ~T0 @X0 1 r1 ]
[v _state `E378 ~T0 @X0 1 r2 ]
[f ]
"22
[; ;sm/StateMachine.c: 22:  static event_t e = evNone;
[v F403 `E355 ~T0 @X0 1 s e ]
[i F403
. `E355 0
]
"23
[; ;sm/StateMachine.c: 23:  static state_t s = _init;
[v F404 `E378 ~T0 @X0 1 s s ]
[i F404
. `E378 0
]
"24
[; ;sm/StateMachine.c: 24:  if(event != e || state != s){
[e $ ! || != -> _event `ui -> F403 `ui != -> _state `ui -> F404 `ui 4  ]
{
"26
[; ;sm/StateMachine.c: 26:         if(!(event==evNone && state == s)){
[e $ ! ! && == -> _event `ui -> . `E355 0 `ui == -> _state `ui -> F404 `ui 5  ]
{
"27
[; ;sm/StateMachine.c: 27:          printf("$e:%s,s:%s\n", (event == evNone) ? "" : trace_event_labels[event], trace_state_labels[state]);
[e ( _printf , , (. :s 19C ? == -> _event `ui -> . `E355 0 `ui : :s 20C *U + &U _trace_event_labels * -> _event `ux -> -> # *U &U _trace_event_labels `ui `ux *U + &U _trace_state_labels * -> _state `ux -> -> # *U &U _trace_state_labels `ui `ux ]
"28
[; ;sm/StateMachine.c: 28:   }
}
[e :U 5 ]
"29
[; ;sm/StateMachine.c: 29:   s = state;
[e = F404 _state ]
"30
[; ;sm/StateMachine.c: 30:   e = event;
[e = F403 _event ]
"31
[; ;sm/StateMachine.c: 31:  }
}
[e :U 4 ]
"32
[; ;sm/StateMachine.c: 32: }
[e :UE 3 ]
}
"35
[; ;sm/StateMachine.c: 35: static state_t vStateMachine = _init;
[v _vStateMachine `E378 ~T0 @X0 1 s ]
[i _vStateMachine
. `E378 0
]
"37
[; ;sm/StateMachine.c: 37: static state_t vStateMachine_Working_ShallowHistoryPseudostate2;
[v _vStateMachine_Working_ShallowHistoryPseudostate2 `E378 ~T0 @X0 1 s ]
"43
[; ;sm/StateMachine.c: 43: void StateMachine_SM(event_t event){
[v _StateMachine_SM `(v ~T0 @X0 1 ef1`E355 ]
{
[e :U _StateMachine_SM ]
[v _event `E355 ~T0 @X0 1 r1 ]
[f ]
"45
[; ;sm/StateMachine.c: 45:  switch(vStateMachine){
[e $U 8  ]
{
"46
[; ;sm/StateMachine.c: 46:   case _init:
[e :U 9 ]
"47
[; ;sm/StateMachine.c: 47:    vStateMachine = Working;
[e = _vStateMachine . `E378 1 ]
"48
[; ;sm/StateMachine.c: 48:   break;
[e $U 7  ]
"50
[; ;sm/StateMachine.c: 50:   case Working_ShallowHistoryPseudostate2:
[e :U 10 ]
"51
[; ;sm/StateMachine.c: 51:    vStateMachine = vStateMachine_Working_ShallowHistoryPseudostate2;
[e = _vStateMachine _vStateMachine_Working_ShallowHistoryPseudostate2 ]
"52
[; ;sm/StateMachine.c: 52:    break;
[e $U 7  ]
"53
[; ;sm/StateMachine.c: 53:   case Working:
[e :U 11 ]
"55
[; ;sm/StateMachine.c: 55:    vStateMachine = Red;
[e = _vStateMachine . `E378 4 ]
"56
[; ;sm/StateMachine.c: 56:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 12  ]
{
"57
[; ;sm/StateMachine.c: 57:     vStateMachine = Service;
[e = _vStateMachine . `E378 3 ]
"58
[; ;sm/StateMachine.c: 58:    }
}
[e :U 12 ]
"59
[; ;sm/StateMachine.c: 59:    break;
[e $U 7  ]
"60
[; ;sm/StateMachine.c: 60:   case Service:
[e :U 13 ]
"62
[; ;sm/StateMachine.c: 62:    vStateMachine = YellowOn;
[e = _vStateMachine . `E378 9 ]
"63
[; ;sm/StateMachine.c: 63:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 14  ]
{
"64
[; ;sm/StateMachine.c: 64:     vStateMachine = Working_ShallowHistoryPseudostate2;
[e = _vStateMachine . `E378 2 ]
"65
[; ;sm/StateMachine.c: 65:    }
}
[e :U 14 ]
"66
[; ;sm/StateMachine.c: 66:    break;
[e $U 7  ]
"67
[; ;sm/StateMachine.c: 67:   case Red:
[e :U 15 ]
"69
[; ;sm/StateMachine.c: 69:    LED1_Off();
[e ( _LED1_Off ..  ]
"70
[; ;sm/StateMachine.c: 70:    LED2_Off();
[e ( _LED2_Off ..  ]
"71
[; ;sm/StateMachine.c: 71:    LED3_On();
[e ( _LED3_On ..  ]
"74
[; ;sm/StateMachine.c: 74:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 16  ]
{
"75
[; ;sm/StateMachine.c: 75:     vStateMachine = Service;
[e = _vStateMachine . `E378 3 ]
"79
[; ;sm/StateMachine.c: 79:     vStateMachine_Working_ShallowHistoryPseudostate2 = Red;
[e = _vStateMachine_Working_ShallowHistoryPseudostate2 . `E378 4 ]
"80
[; ;sm/StateMachine.c: 80:    }
}
[e :U 16 ]
"81
[; ;sm/StateMachine.c: 81:    if((vPotmeter<50) && evTick==event){
[e $ ! && < -> _vPotmeter `i -> 50 `i == -> . `E355 1 `ui -> _event `ui 17  ]
{
"82
[; ;sm/StateMachine.c: 82:     vStateMachine = PotDelay;
[e = _vStateMachine . `E378 5 ]
"83
[; ;sm/StateMachine.c: 83:    }
}
[e :U 17 ]
"84
[; ;sm/StateMachine.c: 84:    if((vPotmeter >= 50) && evTick==event){
[e $ ! && >= -> _vPotmeter `i -> 50 `i == -> . `E355 1 `ui -> _event `ui 18  ]
{
"85
[; ;sm/StateMachine.c: 85:     vStateMachine = RedYellow;
[e = _vStateMachine . `E378 6 ]
"86
[; ;sm/StateMachine.c: 86:    }
}
[e :U 18 ]
"87
[; ;sm/StateMachine.c: 87:    break;
[e $U 7  ]
"88
[; ;sm/StateMachine.c: 88:   case PotDelay:
[e :U 19 ]
"90
[; ;sm/StateMachine.c: 90:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 20  ]
{
"91
[; ;sm/StateMachine.c: 91:     vStateMachine = Service;
[e = _vStateMachine . `E378 3 ]
"95
[; ;sm/StateMachine.c: 95:     vStateMachine_Working_ShallowHistoryPseudostate2 = PotDelay;
[e = _vStateMachine_Working_ShallowHistoryPseudostate2 . `E378 5 ]
"96
[; ;sm/StateMachine.c: 96:    }
}
[e :U 20 ]
"97
[; ;sm/StateMachine.c: 97:    if(evS1Pressed==event){
[e $ ! == -> . `E355 2 `ui -> _event `ui 21  ]
{
"98
[; ;sm/StateMachine.c: 98:     vStateMachine = RedYellow;
[e = _vStateMachine . `E378 6 ]
"99
[; ;sm/StateMachine.c: 99:    }
}
[e :U 21 ]
"100
[; ;sm/StateMachine.c: 100:    break;
[e $U 7  ]
"101
[; ;sm/StateMachine.c: 101:   case RedYellow:
[e :U 22 ]
"103
[; ;sm/StateMachine.c: 103:    LED1_Off();
[e ( _LED1_Off ..  ]
"104
[; ;sm/StateMachine.c: 104:    LED2_On();
[e ( _LED2_On ..  ]
"105
[; ;sm/StateMachine.c: 105:    LED3_On();
[e ( _LED3_On ..  ]
"108
[; ;sm/StateMachine.c: 108:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 23  ]
{
"109
[; ;sm/StateMachine.c: 109:     vStateMachine = Service;
[e = _vStateMachine . `E378 3 ]
"113
[; ;sm/StateMachine.c: 113:     vStateMachine_Working_ShallowHistoryPseudostate2 = RedYellow;
[e = _vStateMachine_Working_ShallowHistoryPseudostate2 . `E378 6 ]
"114
[; ;sm/StateMachine.c: 114:    }
}
[e :U 23 ]
"115
[; ;sm/StateMachine.c: 115:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 24  ]
{
"116
[; ;sm/StateMachine.c: 116:     vStateMachine = Green;
[e = _vStateMachine . `E378 7 ]
"117
[; ;sm/StateMachine.c: 117:    }
}
[e :U 24 ]
"118
[; ;sm/StateMachine.c: 118:    break;
[e $U 7  ]
"119
[; ;sm/StateMachine.c: 119:   case Green:
[e :U 25 ]
"121
[; ;sm/StateMachine.c: 121:    LED1_On();
[e ( _LED1_On ..  ]
"122
[; ;sm/StateMachine.c: 122:    LED2_Off();
[e ( _LED2_Off ..  ]
"123
[; ;sm/StateMachine.c: 123:    LED3_Off();
[e ( _LED3_Off ..  ]
"126
[; ;sm/StateMachine.c: 126:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 26  ]
{
"127
[; ;sm/StateMachine.c: 127:     vStateMachine = Service;
[e = _vStateMachine . `E378 3 ]
"131
[; ;sm/StateMachine.c: 131:     vStateMachine_Working_ShallowHistoryPseudostate2 = Green;
[e = _vStateMachine_Working_ShallowHistoryPseudostate2 . `E378 7 ]
"132
[; ;sm/StateMachine.c: 132:    }
}
[e :U 26 ]
"133
[; ;sm/StateMachine.c: 133:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 27  ]
{
"134
[; ;sm/StateMachine.c: 134:     vStateMachine = Yellow;
[e = _vStateMachine . `E378 8 ]
"135
[; ;sm/StateMachine.c: 135:    }
}
[e :U 27 ]
"136
[; ;sm/StateMachine.c: 136:    break;
[e $U 7  ]
"137
[; ;sm/StateMachine.c: 137:   case Yellow:
[e :U 28 ]
"139
[; ;sm/StateMachine.c: 139:    LED1_Off();
[e ( _LED1_Off ..  ]
"140
[; ;sm/StateMachine.c: 140:    LED2_On();
[e ( _LED2_On ..  ]
"141
[; ;sm/StateMachine.c: 141:    LED3_Off();
[e ( _LED3_Off ..  ]
"144
[; ;sm/StateMachine.c: 144:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 29  ]
{
"145
[; ;sm/StateMachine.c: 145:     vStateMachine = Service;
[e = _vStateMachine . `E378 3 ]
"149
[; ;sm/StateMachine.c: 149:     vStateMachine_Working_ShallowHistoryPseudostate2 = Yellow;
[e = _vStateMachine_Working_ShallowHistoryPseudostate2 . `E378 8 ]
"150
[; ;sm/StateMachine.c: 150:    }
}
[e :U 29 ]
"151
[; ;sm/StateMachine.c: 151:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 30  ]
{
"152
[; ;sm/StateMachine.c: 152:     vStateMachine = Red;
[e = _vStateMachine . `E378 4 ]
"153
[; ;sm/StateMachine.c: 153:    }
}
[e :U 30 ]
"154
[; ;sm/StateMachine.c: 154:    break;
[e $U 7  ]
"155
[; ;sm/StateMachine.c: 155:   case YellowOn:
[e :U 31 ]
"157
[; ;sm/StateMachine.c: 157:    LED1_Off();
[e ( _LED1_Off ..  ]
"158
[; ;sm/StateMachine.c: 158:    LED2_On();
[e ( _LED2_On ..  ]
"159
[; ;sm/StateMachine.c: 159:    LED3_Off();
[e ( _LED3_Off ..  ]
"162
[; ;sm/StateMachine.c: 162:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 32  ]
{
"164
[; ;sm/StateMachine.c: 164:     vStateMachine = Working_ShallowHistoryPseudostate2;
[e = _vStateMachine . `E378 2 ]
"166
[; ;sm/StateMachine.c: 166:    }
}
[e :U 32 ]
"167
[; ;sm/StateMachine.c: 167:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 33  ]
{
"168
[; ;sm/StateMachine.c: 168:     vStateMachine = Dummy1;
[e = _vStateMachine . `E378 10 ]
"169
[; ;sm/StateMachine.c: 169:    }
}
[e :U 33 ]
"170
[; ;sm/StateMachine.c: 170:    break;
[e $U 7  ]
"171
[; ;sm/StateMachine.c: 171:   case Dummy1:
[e :U 34 ]
"173
[; ;sm/StateMachine.c: 173:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 35  ]
{
"175
[; ;sm/StateMachine.c: 175:     vStateMachine = Working_ShallowHistoryPseudostate2;
[e = _vStateMachine . `E378 2 ]
"177
[; ;sm/StateMachine.c: 177:    }
}
[e :U 35 ]
"178
[; ;sm/StateMachine.c: 178:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 36  ]
{
"179
[; ;sm/StateMachine.c: 179:     vStateMachine = YellowOff;
[e = _vStateMachine . `E378 11 ]
"180
[; ;sm/StateMachine.c: 180:    }
}
[e :U 36 ]
"181
[; ;sm/StateMachine.c: 181:    break;
[e $U 7  ]
"182
[; ;sm/StateMachine.c: 182:   case YellowOff:
[e :U 37 ]
"184
[; ;sm/StateMachine.c: 184:    LED1_Off();
[e ( _LED1_Off ..  ]
"185
[; ;sm/StateMachine.c: 185:    LED2_Off();
[e ( _LED2_Off ..  ]
"186
[; ;sm/StateMachine.c: 186:    LED3_Off();
[e ( _LED3_Off ..  ]
"189
[; ;sm/StateMachine.c: 189:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 38  ]
{
"191
[; ;sm/StateMachine.c: 191:     vStateMachine = Working_ShallowHistoryPseudostate2;
[e = _vStateMachine . `E378 2 ]
"193
[; ;sm/StateMachine.c: 193:    }
}
[e :U 38 ]
"194
[; ;sm/StateMachine.c: 194:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 39  ]
{
"195
[; ;sm/StateMachine.c: 195:     vStateMachine = Dummy2;
[e = _vStateMachine . `E378 12 ]
"196
[; ;sm/StateMachine.c: 196:    }
}
[e :U 39 ]
"197
[; ;sm/StateMachine.c: 197:    break;
[e $U 7  ]
"198
[; ;sm/StateMachine.c: 198:   case Dummy2:
[e :U 40 ]
"200
[; ;sm/StateMachine.c: 200:    if(evS2Pressed==event){
[e $ ! == -> . `E355 3 `ui -> _event `ui 41  ]
{
"202
[; ;sm/StateMachine.c: 202:     vStateMachine = Working_ShallowHistoryPseudostate2;
[e = _vStateMachine . `E378 2 ]
"204
[; ;sm/StateMachine.c: 204:    }
}
[e :U 41 ]
"205
[; ;sm/StateMachine.c: 205:    if(evTick==event){
[e $ ! == -> . `E355 1 `ui -> _event `ui 42  ]
{
"206
[; ;sm/StateMachine.c: 206:     vStateMachine = YellowOn;
[e = _vStateMachine . `E378 9 ]
"207
[; ;sm/StateMachine.c: 207:    }
}
[e :U 42 ]
"208
[; ;sm/StateMachine.c: 208:    break;
[e $U 7  ]
"209
[; ;sm/StateMachine.c: 209:   default:
[e :U 43 ]
"210
[; ;sm/StateMachine.c: 210:    break;
[e $U 7  ]
"211
[; ;sm/StateMachine.c: 211:  }
}
[e $U 7  ]
[e :U 8 ]
[e [\ -> _vStateMachine `ui , $ -> . `E378 0 `ui 9
 , $ -> . `E378 2 `ui 10
 , $ -> . `E378 1 `ui 11
 , $ -> . `E378 3 `ui 13
 , $ -> . `E378 4 `ui 15
 , $ -> . `E378 5 `ui 19
 , $ -> . `E378 6 `ui 22
 , $ -> . `E378 7 `ui 25
 , $ -> . `E378 8 `ui 28
 , $ -> . `E378 9 `ui 31
 , $ -> . `E378 10 `ui 34
 , $ -> . `E378 11 `ui 37
 , $ -> . `E378 12 `ui 40
 43 ]
[e :U 7 ]
"214
[; ;sm/StateMachine.c: 214:  _trace(event, vStateMachine);
[e ( __trace (2 , _event _vStateMachine ]
"216
[; ;sm/StateMachine.c: 216: }
[e :UE 6 ]
}
[p f _printf 8650752 ]
[a 11C 80 111 116 68 101 108 97 121 0 ]
[a 12C 82 101 100 89 101 108 108 111 119 0 ]
[a 14C 89 101 108 108 111 119 0 ]
[a 5C 101 118 84 105 109 101 111 117 116 0 ]
[a 6C 95 105 110 105 116 0 ]
[a 13C 71 114 101 101 110 0 ]
[a 15C 89 101 108 108 111 119 79 110 0 ]
[a 2C 101 118 84 105 99 107 0 ]
[a 7C 87 111 114 107 105 110 103 0 ]
[a 17C 89 101 108 108 111 119 79 102 102 0 ]
[a 1C 101 118 78 111 110 101 0 ]
[a 9C 83 101 114 118 105 99 101 0 ]
[a 4C 101 118 83 50 80 114 101 115 115 101 100 0 ]
[a 3C 101 118 83 49 80 114 101 115 115 101 100 0 ]
[a 10C 82 101 100 0 ]
[a 18C 68 117 109 109 121 50 0 ]
[a 8C 87 111 114 107 105 110 103 95 83 104 97 108 108 111 119 72 105 115 116 111 114 121 80 115 101 117 100 111 115 116 97 116 101 50 0 ]
[a 16C 68 117 109 109 121 49 0 ]
[a 19C 36 101 58 37 115 44 115 58 37 115 10 0 ]
[a 20C 0 ]
